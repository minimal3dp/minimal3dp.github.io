<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>S1 Plus on Minimal 3DP</title>
    <link>http://localhost:1313/tags/s1-plus/</link>
    <description>Recent content in S1 Plus on Minimal 3DP</description>
    <generator>Hugo</generator>
    <language>en</language>
    <atom:link href="http://localhost:1313/tags/s1-plus/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Ender 3 S1 Plus (e3s1p) Klipper Config</title>
      <link>http://localhost:1313/projects/3d-printers/ender-3-s1-plus/e3s1p-klipper-config/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/projects/3d-printers/ender-3-s1-plus/e3s1p-klipper-config/</guid>
      <description>&lt;div class=&#34;pageinfo pageinfo-primary&#34;&gt;&#xA;&lt;p&gt;Ender 3 S1 Plus with the default Creality Board&lt;/p&gt;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# !Ender-3 S1 Plus&#xA;# printer_size: 300x300x300&#xA;# version: 3.6&#xA;# This file contains pin mappings for the stock 2021 Creality Ender 3&#xA;# S1 &amp;amp; S1 Pro. To use this config, check the STM32 Chip on the&#xA;# Mainboard, during &amp;#34;make menuconfig&amp;#34; select accordingly either the&#xA;# STM32F103 with &amp;#34;28KiB bootloader&amp;#34; or the STM32F401 with&#xA;# &amp;#34;64KiB bootloader&amp;#34; and serial (on USART1 PA10/PA9) for both.&#xA;&#xA;# For a direct serial connection, in &amp;#34;make menuconfig&amp;#34; select&#xA;# &amp;#34;Enable extra low-level configuration options&amp;#34; and  Serial&#xA;# (on USART2 PA3/PA2), which is on the 10 pin IDC cable used&#xA;&#xA;# Flash this firmware by copying &amp;#34;out/klipper.bin&amp;#34; to a SD card and&#xA;# turning on the printer with the card inserted. The filename&#xA;# must be changed to &amp;#34;firmware.bin&amp;#34;&#xA;&#xA;# With STM32F401, you might need to put &amp;#34;firmware.bin&amp;#34; in a&#xA;# folder on the SD card called &amp;#34;STM32F4_UPDATE&amp;#34; in order to flash.&#xA;&#xA;# See docs/Config_Reference.md for a description of parameters.&#xA;&#xA;&#xA;###fluidd set&#xA;[include cx_printer.cfg]&#xA;&#xA;[display_status]&#xA;&#xA;[pause_resume]&#xA;&#xA;[gcode_macro PAUSE]&#xA;description: Pause the actual running print&#xA;rename_existing: PAUSE_BASE&#xA;# change this if you need more or less extrusion&#xA;variable_extrude: 1.0&#xA;gcode:&#xA;  ##### read E from pause macro #####&#xA;  {% set E = printer[&amp;#34;gcode_macro PAUSE&amp;#34;].extrude|float %}&#xA;  ##### set park positon for x and y #####&#xA;  # default is your max posion from your printer.cfg&#xA;  {% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}&#xA;  {% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}&#xA;  ##### calculate save lift position #####&#xA;  {% set max_z = printer.toolhead.axis_maximum.z|float %}&#xA;  {% set act_z = printer.toolhead.position.z|float %}&#xA;  {% if act_z &amp;lt; (max_z - 2.0) %}&#xA;      {% set z_safe = 2.0 %}&#xA;  {% else %}&#xA;      {% set z_safe = max_z - act_z %}&#xA;  {% endif %}&#xA;  ##### end of definitions #####&#xA;  PAUSE_BASE&#xA;  G91&#xA;  {% if printer.extruder.can_extrude|lower == &amp;#39;true&amp;#39; %}&#xA;    G1 E-{E} F2100&#xA;  {% else %}&#xA;    {action_respond_info(&amp;#34;Extruder not hot enough&amp;#34;)}&#xA;  {% endif %}&#xA;  {% if &amp;#34;xyz&amp;#34; in printer.toolhead.homed_axes %}&#xA;    G1 Z{z_safe} F900&#xA;    G90&#xA;    G1 X{x_park} Y{y_park} F6000&#xA;  {% else %}&#xA;    {action_respond_info(&amp;#34;Printer not homed&amp;#34;)}&#xA;  {% endif %}&#xA;&#xA;[gcode_macro RESUME]&#xA;description: Resume the actual running print&#xA;rename_existing: RESUME_BASE&#xA;gcode:&#xA;  ##### read E from pause macro #####&#xA;  {% set E = printer[&amp;#34;gcode_macro PAUSE&amp;#34;].extrude|float %}&#xA;  #### get VELOCITY parameter if specified ####&#xA;  {% if &amp;#39;VELOCITY&amp;#39; in params|upper %}&#xA;    {% set get_params = (&amp;#39;VELOCITY=&amp;#39; + params.VELOCITY)  %}&#xA;  {%else %}&#xA;    {% set get_params = &amp;#34;&amp;#34; %}&#xA;  {% endif %}&#xA;  ##### end of definitions #####&#xA;  {% if printer.extruder.can_extrude|lower == &amp;#39;true&amp;#39; %}&#xA;    G91&#xA;    G1 E{E} F2100&#xA;  {% else %}&#xA;    {action_respond_info(&amp;#34;Extruder not hot enough&amp;#34;)}&#xA;  {% endif %}&#xA;  RESUME_BASE {get_params}&#xA;&#xA;[gcode_macro CANCEL_PRINT]&#xA;description: Cancel the actual running print&#xA;rename_existing: CANCEL_PRINT_BASE&#xA;gcode:&#xA;  TURN_OFF_HEATERS&#xA;  {% if &amp;#34;xyz&amp;#34; in printer.toolhead.homed_axes %}&#xA;    G91&#xA;    G1 Z4.5 F300&#xA;    G90&#xA;  {% else %}&#xA;    {action_respond_info(&amp;#34;Printer not homed&amp;#34;)}&#xA;  {% endif %}&#xA;    G28 X Y&#xA;  {% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}&#xA;    G1 Y{y_park} F2000&#xA;    M84&#xA;  CANCEL_PRINT_BASE&#xA;&#xA;[stepper_x]&#xA;step_pin: PC2&#xA;dir_pin: PB9&#xA;enable_pin: !PC3&#xA;rotation_distance: 40&#xA;microsteps: 16&#xA;endstop_pin: !PA5&#xA;position_min: -5&#xA;position_endstop: -5&#xA;position_max: 305&#xA;homing_speed: 80&#xA;&#xA;[stepper_y]&#xA;step_pin: PB8&#xA;dir_pin: PB7&#xA;enable_pin: !PC3&#xA;rotation_distance: 40&#xA;microsteps: 16&#xA;endstop_pin: !PA6&#xA;position_min: -2&#xA;position_endstop: -2&#xA;position_max: 305&#xA;homing_speed: 80&#xA;&#xA;[stepper_z]&#xA;step_pin: PB6&#xA;dir_pin: !PB5&#xA;enable_pin: !PC3&#xA;rotation_distance: 8&#xA;microsteps: 16&#xA;endstop_pin: probe:z_virtual_endstop           #enable to use bltouch&#xA;#endstop_pin: !PA15                #disable to use bltouch&#xA;#position_endstop: -0.1&#xA;position_min: -10&#xA;position_max: 305&#xA;homing_speed: 4&#xA;second_homing_speed: 1&#xA;homing_retract_dist: 2.0&#xA;&#xA;[extruder]&#xA;max_extrude_only_distance: 1000.0&#xA;step_pin: PB4&#xA;dir_pin: PB3&#xA;enable_pin: !PC3&#xA;rotation_distance: 7.74&#xA;microsteps: 16&#xA;nozzle_diameter: 0.400&#xA;filament_diameter: 1.750&#xA;heater_pin: PA1&#xA;sensor_type: EPCOS 100K B57560G104F&#xA;sensor_pin: PC5&#xA;#control: pid&#xA;# tuned for stock hardware with 200 degree Celsius target&#xA;#pid_Kp: 23.904&#xA;#pid_Ki: 1.476&#xA;#pid_Kd: 96.810&#xA;min_temp: 0&#xA;max_temp: 265&#xA;&#xA;[idle_timeout]&#xA;timeout: 172800&#xA;&#xA;[heater_bed]&#xA;heater_pin: PA7&#xA;sensor_type: EPCOS 100K B57560G104F&#xA;sensor_pin: PC4&#xA;#control: pid&#xA;# tuned for stock hardware with 50 degree Celsius target&#xA;#pid_Kp: 74.000&#xA;#pid_Ki: 1.965&#xA;#pid_Kd: 696.525&#xA;min_temp: 0&#xA;max_temp: 130&#xA;&#xA;&#xA;[verify_heater extruder]&#xA;check_gain_time: 200&#xA;hysteresis: 5&#xA;&#xA;[fan]&#xA;pin: PA0&#xA;kick_start_time: 0.5&#xA;&#xA;#set heater fan runnig with temperature over 60;&#xA;[heater_fan my_nozzle_fan]&#xA;pin: PC0&#xA;max_power: 0.8&#xA;shutdown_speed : 0&#xA;heater:extruder&#xA;heater_temp : 60&#xA;fan_speed : 1.0&#xA;&#xA;&#xA;[mcu]&#xA;serial: /dev/serial/by-id/usb_serial_1&#xA;restart_method: command&#xA;&#xA;# [mcu rpi]&#xA;# serial: /tmp/klipper_host_mcu&#xA;&#xA;# [adxl345]&#xA;# cs_pin: rpi:None&#xA;# spi_speed: 2000000&#xA;# spi_bus: spidev2.0&#xA;&#xA;# [resonance_tester]&#xA;# accel_chip: adxl345&#xA;# accel_per_hz: 70&#xA;# probe_points:&#xA;#     150,150,10&#xA;&#xA;[input_shaper]&#xA;shaper_type_x = mzv&#xA;shaper_freq_x = 59.2&#xA;shaper_type_y = mzv&#xA;shaper_freq_y = 30.0&#xA;&#xA;[filament_switch_sensor filament_sensor]&#xA;pause_on_runout: true&#xA;switch_pin: ^!PC15&#xA;&#xA;&#xA;[bltouch]&#xA;sensor_pin: ^PC14       #signal check port ^stand for pull up&#xA;control_pin: PC13       #singal control prot&#xA;x_offset: -30.0&#xA;y_offset: -40.0&#xA;#z_offset: 0          #z off_set configuration&#xA;stow_on_each_sample = false #high speed for bltoch,&#xA;speed: 3.0&#xA;samples: 2&#xA;samples_result: median&#xA;sample_retract_dist: 6.0&#xA;samples_tolerance: 0.01&#xA;samples_tolerance_retries: 3&#xA;&#xA;[safe_z_home]&#xA;home_xy_position:185,195&#xA;speed: 200&#xA;z_hop: 10&#xA;z_hop_speed: 10&#xA;&#xA;[bed_mesh]&#xA;speed: 150&#xA;mesh_min: 25,30         #need to handle head distance with bl_touch&#xA;mesh_max: 273,250       #max probe range&#xA;probe_count: 5,5&#xA;fade_start: 1&#xA;fade_end: 10&#xA;algorithm: bicubic&#xA;&#xA;[bed_screws]&#xA;screw1: 25, 33&#xA;screw2: 262, 33&#xA;screw3: 262, 272&#xA;screw4: 25, 272&#xA;&#xA;&#xA;[gcode_arcs]&#xA;#resolution: 1.0&#xA;&#xA;[printer]&#xA;kinematics: cartesian&#xA;max_velocity: 300&#xA;max_accel: 4000&#xA;max_z_velocity: 10&#xA;max_z_accel: 1000&#xA;square_corner_velocity: 5.0&#xA;&#xA;[exclude_object]&#xA;&#xA;[include timelapse.cfg]&#xA;[include cx_gmcro.cfg]&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
  </channel>
</rss>
