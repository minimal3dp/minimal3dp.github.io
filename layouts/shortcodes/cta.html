{{/* Usage: {{< cta type="youtube" location="blog-post" >}}Custom text{{< /cta >}} */}}
{{/* Types: youtube, email, calculator, support */}}

{{ $type := .Get "type" | default "youtube" }}
{{ $location := .Get "location" | default "content" }}
{{ $customText := .Inner }}

{{ if eq $type "youtube" }}
<div class="cta cta--youtube">
  <h3 class="cta__title">üì∫ Watch This Tutorial on YouTube</h3>
  {{ if $customText }}
    <p class="cta__text">{{ $customText | markdownify }}</p>
  {{ else }}
    <p class="cta__text">Subscribe to Minimal 3DP for more 3D printing tutorials, reviews, and tips!</p>
  {{ end }}
  <a class="cta__btn" href="https://www.youtube.com/channel/{{ .Site.Params.youtube_channel_id }}?sub_confirmation=1" 
     target="_blank"
     rel="noopener"
     onclick="trackCtaClick('youtube','{{ $location }}')">
    ‚ñ∂Ô∏è Subscribe Now - {{ .Site.Params.youtube_subscribers | default "5,000+" }} subscribers
  </a>
  </div>

{{ else if eq $type "calculator" }}
<div class="cta cta--calculator">
  <h3 class="cta__title">üßÆ Try Our Free Calculator</h3>
  {{ if $customText }}
    <p class="cta__text">{{ $customText | markdownify }}</p>
  {{ else }}
    <p class="cta__text">Calculate your 3D print costs accurately with our professional FDM cost calculator.</p>
  {{ end }}
  <a class="cta__btn" href="/tools/m3dp-fdm-cost-calculator/" 
     onclick="trackCtaClick('calculator','{{ $location }}')">
    üéØ Open Calculator
  </a>
  </div>

{{ else if eq $type "email" }}
<div class="cta cta--email">
  <h3 class="cta__title">üìß Get Free 3D Printing Tips</h3>
  {{ if $customText }}
    <p class="cta__text">{{ $customText | markdownify }}</p>
  {{ else }}
    <p class="cta__text">Join our newsletter for weekly tutorials, reviews, and exclusive deals!</p>
  {{ end }}
  <form class="cta__form" action="YOUR_EMAIL_SERVICE_URL" method="post">
    <input class="cta__input" type="email" name="email" placeholder="Your email address" required>
    <button class="cta__submit" type="submit" onclick="trackCtaClick('email','{{ $location }}')">
      Subscribe (It's Free!)
    </button>
  </form>
  <p class="cta__note">No spam. Unsubscribe anytime.</p>
  </div>

{{ else if eq $type "support" }}
<div class="cta cta--support">
  <h3 class="cta__title">üíú Support This Content</h3>
  {{ if $customText }}
    <p class="cta__text">{{ $customText | markdownify }}</p>
  {{ else }}
    <p class="cta__text">If you found this helpful, consider supporting us through affiliate purchases or YouTube!</p>
  {{ end }}
  <a class="cta__btn" href="https://www.youtube.com/channel/{{ .Site.Params.youtube_channel_id }}?sub_confirmation=1" 
     target="_blank"
     rel="noopener"
     onclick="trackCtaClick('support','{{ $location }}')">
    ‚ù§Ô∏è Subscribe & Support
  </a>
  </div>

{{ end }}
